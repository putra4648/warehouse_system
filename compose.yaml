services:
  wms_db:
    container_name: wms_db
    image: postgres:17
    ports:
      - 8000:5432
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_DB=wms_db
    networks:
      - wms-network

  keycloak:
    container_name: keycloak
    image: quay.io/keycloak/keycloak:26.2.2
    ports:
      - 9000:8080
    environment:
      - KC_BOOTSTRAP_ADMIN_USERNAME=admin
      - KC_BOOTSTRAP_ADMIN_PASSWORD=admin
      - KC_HOSTNAME=localhost
      - KC_HOSTNAME_PORT=8080
      - KC_HEALTH_ENABLED=true
      - KC_LOG_LEVEL=info
    command: ["start-dev", "--http-port=8080"]
    networks:
      - wms-network

networks:
  wms-network:
    driver: bridge
